<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Local Arts Marketplace</title>
  <style>
    :root{
      --bg:#f7f8fb; --card:#ffffff; --muted:#6b7280; --accent:#0f172a; --primary:#0ea5a4;
    }
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial; margin:0; background:var(--bg); color:var(--accent); -webkit-font-smoothing:antialiased}
    .container{max-width:1100px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:24px;margin:0}
    p.lead{color:var(--muted);margin:0}/* filters */
.filters{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:18px}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
select,input[type="search"]{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef;background:white}
select:disabled{opacity:0.6}

/* grid */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
.card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(15,23,42,0.06);display:flex;flex-direction:column}
.card img{width:100%;height:160px;object-fit:cover;display:block}
.card .body{padding:12px;flex:1;display:flex;flex-direction:column}
.title{font-weight:600;margin-bottom:6px}
.meta{font-size:13px;color:var(--muted);margin-bottom:8px}
.row{display:flex;justify-content:space-between;align-items:center}
.price{font-weight:700}
.btn{padding:8px 12px;border-radius:8px;border:0;background:var(--primary);color:white;cursor:pointer}
.btn.secondary{background:transparent;color:var(--primary);border:1px solid rgba(14,165,164,0.18)}

/* detail panel */
.detail{position:fixed;right:20px;top:20px;width:420px;max-width:calc(100% - 40px);background:var(--card);border-radius:12px;box-shadow:0 20px 40px rgba(2,6,23,0.2);overflow:hidden;display:none;z-index:30}
.detail.open{display:block}
.detail img{width:100%;height:220px;object-fit:cover}
.detail .content{padding:16px}
.detail .content h2{margin:0 0 6px 0}
.detail .content p{color:var(--muted);margin:6px 0}
.link{display:inline-block;margin-top:8px;text-decoration:underline;color:var(--primary)}

/* empty message */
.empty{padding:40px;text-align:center;color:var(--muted);grid-column:1/-1}

/* responsive tweaks */
@media (max-width:900px){
  .filters{grid-template-columns:1fr;}
  .detail{position:fixed;left:10px;right:10px;top:10px;width:auto}
}

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Local Arts Marketplace</h1>
        <p class="lead">Discover handmade arts from across India.</p>
      </div>
      <div style="text-align:right;font-size:13px;color:var(--muted)">Built for local artisans</div>
    </header><section class="filters" aria-label="filters">
  <div>
    <label for="state">Select State</label>
    <select id="state">
      <option value="">All states</option>
    </select>
  </div>

  <div>
    <label for="district">Select District</label>
    <select id="district" disabled>
      <option value="">All districts</option>
    </select>
  </div>

  <div>
    <label for="search">Search title</label>
    <input id="search" type="search" placeholder="Search products..." />
  </div>
</section>

<section>
  <div id="products" class="grid" aria-live="polite"></div>
</section>

<div id="detail" class="detail" role="dialog" aria-modal="true">
  <img id="detail-img" src="" alt="" />
  <div class="content">
    <h2 id="detail-title"></h2>
    <div class="meta" id="detail-location"></div>
    <p id="detail-desc"></p>
    <a id="detail-youtube" class="link" target="_blank" rel="noopener noreferrer">Watch: History & process on YouTube →</a>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:14px">
      <div class="price" id="detail-price"></div>
      <div>
        <button class="btn" id="add-cart">Add to cart</button>
        <button class="btn secondary" id="close-detail">Close</button>
      </div>
    </div>
  </div>
</div>

  </div>  <script>
    // Sample static product dataset (no backend)
    const PRODUCTS = [
      {id:'p1', title:'Kalamkari Wall Hanging', state:'Andhra Pradesh', district:'Vijayawada', price:1200, image:'5.jpg', youtube:'https://www.youtube.com/watch?v=ysz5S6PUM-U', description:'Traditional Kalamkari hand-painted textile. Click the link to watch a short documentary about its history and process.'},
      {id:'p2', title:'Blue Pottery Vase', state:'Rajasthan', district:'Jaipur', price:2200, image:'2.jpg', youtube:'https://www.youtube.com/watch?v=dQw4w9WgXcQ', description:'Beautiful blue pottery made using traditional glazing techniques.'},
      {id:'p3', title:'Dokra Metal Bird', state:'Chhattisgarh', district:'Bastar', price:1800, image:'4.jpg', youtube:'https://www.youtube.com/watch?v=3JZ_D3ELwOQ', description:'Lost-wax casting (Dokra) metal craft. Maker interview and process video linked.'},
      {id:'p4', title:'Madhubani Painting', state:'Bihar', district:'Darbhanga', price:900, image:'1.jpg', youtube:'https://www.youtube.com/watch?v=oHg5SJYRHA0', description:'Vivid Madhubani painting on handmade paper. Watch the art form in action.'}
      {id: 'p5', title: 'Flower Pot cum penstand with Manjusha patterns of Angpradesh', state: 'Bihar', district: 'Munger', price:70, image: '3.jpg', youtube: 'https://youtube.com/watch?v=3QvE_NUZi3o', 
description: 'Clay pot with Manjusha designs by terracotta techniques. Very useful product and eco friendly.'}
    ];

    // DOM refs
    const stateSelect = document.getElementById('state');
    const districtSelect = document.getElementById('district');
    const searchInput = document.getElementById('search');
    const productsEl = document.getElementById('products');
    const detailEl = document.getElementById('detail');
    const detailImg = document.getElementById('detail-img');
    const detailTitle = document.getElementById('detail-title');
    const detailLocation = document.getElementById('detail-location');
    const detailDesc = document.getElementById('detail-desc');
    const detailYoutube = document.getElementById('detail-youtube');
    const detailPrice = document.getElementById('detail-price');
    const closeDetailBtn = document.getElementById('close-detail');

    // Build unique states list
    const STATES = Array.from(new Set(PRODUCTS.map(p => p.state))).sort();
    STATES.forEach(s => {
      const o = document.createElement('option'); o.value = s; o.textContent = s; stateSelect.appendChild(o);
    });

    function districtsFor(state){
      if(!state) return [];
      return Array.from(new Set(PRODUCTS.filter(p => p.state === state).map(p => p.district))).sort();
    }

    function renderProducts(){
      const state = stateSelect.value;
      const district = districtSelect.value;
      const q = searchInput.value.trim().toLowerCase();

      // filter
      const filtered = PRODUCTS.filter(p => {
        if(state && p.state !== state) return false;
        if(district && p.district !== district) return false;
        if(q && !p.title.toLowerCase().includes(q)) return false;
        return true;
      });

      productsEl.innerHTML = '';
      if(filtered.length === 0){
        const empty = document.createElement('div'); empty.className='empty'; empty.textContent = 'No products match your selection.'; productsEl.appendChild(empty); return;
      }

      filtered.forEach(p => {
        const card = document.createElement('article'); card.className = 'card';
        const img = document.createElement('img'); img.src = p.image; img.alt = p.title; card.appendChild(img);
        const body = document.createElement('div'); body.className = 'body';
        const t = document.createElement('div'); t.className='title'; t.textContent = p.title; body.appendChild(t);
        const m = document.createElement('div'); m.className='meta'; m.textContent = p.state + ' — ' + p.district; body.appendChild(m);
        const row = document.createElement('div'); row.className='row';
        const price = document.createElement('div'); price.className='price'; price.textContent = '₹' + p.price; row.appendChild(price);
        const actions = document.createElement('div');
        const viewBtn = document.createElement('button'); viewBtn.className='btn secondary'; viewBtn.textContent='View'; viewBtn.onclick = () => openDetail(p);
        const buyBtn = document.createElement('button'); buyBtn.className='btn'; buyBtn.textContent='Buy'; buyBtn.onclick = () => alert('Buy feature not implemented — static demo.');
        actions.appendChild(viewBtn); actions.appendChild(buyBtn);
        row.appendChild(actions);
        body.appendChild(row);
        card.appendChild(body);
        productsEl.appendChild(card);
      });
    }

    function openDetail(p){
      detailImg.src = p.image;
      detailImg.alt = p.title;
      detailTitle.textContent = p.title;
      detailLocation.textContent = p.state + ' — ' + p.district;
      detailDesc.textContent = p.description;
      detailYoutube.href = p.youtube;
      detailPrice.textContent = '₹' + p.price;
      detailEl.classList.add('open');
      // focus for accessibility
      detailEl.querySelector('.content').focus();
    }

    function closeDetail(){ detailEl.classList.remove('open'); }

    // when state changes, repopulate districts
    stateSelect.addEventListener('change', () => {
      const s = stateSelect.value;
      districtSelect.innerHTML = '';
      const optAll = document.createElement('option'); optAll.value=''; optAll.textContent='All districts'; districtSelect.appendChild(optAll);
      if(!s){ districtSelect.disabled = true; } else {
        districtSelect.disabled = false;
        districtsFor(s).forEach(d => { const o = document.createElement('option'); o.value = d; o.textContent = d; districtSelect.appendChild(o); });
      }
      renderProducts();
    });

    districtSelect.addEventListener('change', renderProducts);
    searchInput.addEventListener('input', renderProducts);
    closeDetailBtn.addEventListener('click', closeDetail);

    // close detail when clicking outside (on small screens)
    window.addEventListener('click', (e) => {
      if(detailEl.classList.contains('open') && !detailEl.contains(e.target) && !e.target.closest('.card')){
        closeDetail();
      }
    });

    // initial render
    renderProducts();

  </script></body>
</html>
